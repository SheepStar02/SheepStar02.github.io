import{r as f,j as m,a as r,c as q,R as z}from"./client-552142d5.js";/* empty css              */const b=[{name:"Default",boards:[{board:"[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]]",mines:10},{board:"[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]",mines:40},{board:"[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]",mines:99}]}],J=[{name:"Default",theme:"default",icon:"rgb(225,225,225)",button:"#BDBDBD",buttonBorder:"4px outset rgb(225,225,225)",background:"rgb(180,180,180)",backgroundBorder:"1px solid rgb(100,100,100)",requiresBorder:!0}],O="/assets/minesweeper-bomb-2ea69bd9.png",H="/assets/minesweeper-flag-37d736a9.png",V=({value:h,started:N,revealed:c,reveal:C,flagged:y,setFlagged:x,gameOver:g,theme:d,borders:u})=>{const[k,i]=f.useState(!1),B=c||y||g,p=["blue","green","red","navy","darkred","cadetblue","black","gray"];return f.useEffect(()=>{!g&&i&&i(!1)}),m("div",{className:`w-8 h-8 flex items-center justify-center ${B?"":`hoverable ${d.theme}`}`,style:{backgroundColor:c?k?"red":d.background:d.button,border:c?d.backgroundBorder:d.buttonBorder,borderWidth:c?`${u[0]&&"1px"||"0"} ${u[1]&&"1px"||"0"} ${u[2]&&"1px"||"0"} ${u[3]&&"1px"||"0"}`:"4px"},onClick:()=>{B||C()&&i(!0)},onContextMenu:j=>{j.preventDefault(),!(c||g||!N)&&x()},children:[c?r("p",{className:"font-bold text-center text-2xl font-mono",style:{color:p[h-1]},children:h>0?h:h===-1?r("img",{className:"w-full h-full p-1",src:O}):""}):"",y?r("img",{className:"w-full h-full p-1",src:H}):""]})},K=()=>{const h=[{name:"Easy",color:"#4ADE80"},{name:"Medium",color:"#FAAD21"},{name:"Hard",color:"#D95024"},{name:"Extreme",color:"#C26571"}],N=[[-1,-1],[-1,0],[-1,1],[0,-1],[0,1],[1,-1],[1,0],[1,1]],[c,C]=f.useState(J[0]),[y,x]=f.useState(0),[g,d]=f.useState(!1),[u,k]=f.useState(!1),[i,B]=f.useState(0),[p,j]=f.useState(0),[D,M]=f.useState(b[i].boards[p].mines),[v,S]=f.useState(JSON.parse(b[i].boards[p].board));f.useEffect(()=>{let e;return u&&!g?e=setInterval(()=>{x(l=>l+.1)},100):clearInterval(e),()=>clearInterval(e)},[u,g]);const A=e=>{for(let l of e)for(let t of l)if(t.value>=0&&!t.revealed)return!1;return!0},E=e=>{k(!1),d(!1),x(0),j(e),S(JSON.parse(b[i].boards[e].board)),M(b[i].boards[e].mines)},$=(e,l,t)=>{do var s=[Math.floor(Math.random()*e.length),Math.floor(Math.random()*e[0].length)];while(e[s[0]][s[1]].value!==0||Math.abs(l-s[0])<=1&&Math.abs(t-s[1])<=1);return e[s[0]][s[1]].value=-1,e},w=(e,l,t,s)=>{for(let n=0;n<e.length;n++)for(let a=0;a<e[0].length;a++)e[n][a]={value:e[n][a],revealed:!1,flagged:!1};for(let n=0;n<l;n++)$(e,t,s);return e=I(e),e},I=e=>{for(let l=0;l<e.length;l++)for(let t=0;t<e[0].length;t++)e[l][t].value>=0&&(e[l][t].value=F(l,t,e));return e},F=(e,l,t)=>{var n;let s=0;for(let a of N)t[e+a[0]]&&((n=t[e+a[0]][l+a[1]])==null?void 0:n.value)===-1&&s++;return s},R=(e,l)=>{const t=[...v];t[e][l].flagged?M(D+1):M(D-1),t[e][l].flagged=!t[e][l].flagged,S(t)},G=(e,l)=>{let t=[...v];if(u||(t=w(t,b[i].boards[p].mines,e,l),k(!0),x(0)),t[e][l].revealed=!0,t[e][l].value===-1){for(let s of t)for(let n of s)n.value===-1&&!n.flagged&&(n.revealed=!0);return d(!0),S(t),console.log("game over"),!0}else t[e][l].value===0?T(e,l,t):t[e][l].revealed=!0;if(A(t)){for(let s of t)for(let n of s)n.value===-1&&!n.flagged&&(n.flagged=!0);M(0),d(!0)}S(t)},T=(e,l,t)=>{var s,n,a;for(let o of N)t[e][l].revealed=!0,t[e+o[0]]&&((s=t[e+o[0]][l+o[1]])==null?void 0:s.value)===0&&!((n=t[e+o[0]][l+o[1]])!=null&&n.revealed)?t=T(e+o[0],l+o[1],t):t[e+o[0]]&&t[e+o[0]][l+o[1]]&&!((a=t[e+o[0]][l+o[1]])!=null&&a.revealed)&&(t[e+o[0]][l+o[1]].revealed=!0);return t},W=(e,l)=>{var n;const t=[[-1,0],[0,1],[1,0],[0,-1]],s=Array(4).fill(!1);if(!c.requiresBorder||v[e][l]<=0)return s;for(let a=0;a<t.length;a++)v[e+t[a][0]]&&((n=v[e+t[a][0]][l+t[a][1]])!=null&&n.revealed)&&(s[a]=!0);return s};return m("div",{className:"flex flex-col overflow-auto select-none p-6",children:[r("h1",{className:"text-4xl font-serif font-bold p-4 text-slate-200",children:"Minesweeper"}),r("p",{className:"p-4 pt-0 font-bold font-sans text-zinc-400",children:"Don't click the mines I think"}),m("div",{className:"flex gap-6",children:[r("div",{className:"bg-zinc-800 rounded-lg p-12",children:r("div",{className:"flex flex-col rounded overflow-hidden border-8 border-solid border-black",children:v.map((e,l)=>r("div",{className:"flex",children:e.map((t,s)=>t.value===-2?r("div",{className:"w-8 h-8 bg-black"},s):r(V,{value:t.value,revealed:t.revealed,flagged:t.flagged,gameOver:g,started:u,theme:c,borders:W(l,s),reveal:()=>G(l,s),setFlagged:()=>{R(l,s)}},s))},l))})}),m("div",{className:"w-96",children:[r("h1",{className:"text-center text-2xl font-mono font-bold",children:"Game"}),m("div",{className:"flex p-4 justify-evenly",children:[r("button",{className:"p-2 rounded text-red-400 font-bold font-mono hover:bg-neutral-700 duration-200",onClick:()=>{E(p)},children:"Reset"}),r("div",{className:"flex items-center",children:m("p",{className:"font-mono font-bold text-purple-400",children:["Mines: ",D]})}),r("div",{className:"flex items-center w-24",children:m("p",{className:"font-mono font-bold text-blue-400 overflow-visible whitespace-nowrap",children:["Time: ",y.toFixed(1)]})})]}),r("h1",{className:"text-center text-2xl font-mono font-bold",children:"Settings"}),r("p",{className:"p-2 font-bold font-mono text-slate-400",children:"Difficulty"}),r("div",{className:"flex bg-stone-800 rounded overflow-hidden",children:b[i].boards.map((e,l)=>r("button",{className:"p-2 w-24 hover:bg-stone-700 duration-200 font-mono font-bold grow",style:{color:h[l].color},onClick:()=>{E(l)},children:h[l].name},l))}),r("p",{className:"p-2 mt-4 font-bold font-mono text-slate-400",children:"Theme"}),r("div",{className:"p-4 flex pl-0 pt-0",children:m("div",{className:"flex items-center gap-8 px-2 justify-between p-2 rounded-lg hover:bg-stone-700 w-fit cursor-pointer duration-200",children:[r("p",{className:"font-mono font-bold",style:{color:c.icon},children:c.name}),r("div",{className:"w-12 h-12 bg-gray-200 rounded border-4 border-solid border-white"})]})})]})]})]})};function L(){return r("div",{className:"bg-stone-900 w-screen h-screen flex items-center justify-center overflow-auto",children:r(K,{})})}q.createRoot(document.getElementById("root")).render(r(z.StrictMode,{children:r(L,{})}));
