import{a as s,r as p,j as m,c as S,R as x}from"./index-552142d5.js";const z=({value:c,transition:u})=>{const d=["rgb(205,193,180)","rgb(238,228,218)","rgb(237,224,200)","rgb(242,177,121)","rgb(245,149,99)","rgb(246,124,96)","rgb(246,94,59)","rgb(237,207,115)","rgb(237,204,98)","rgb(237,200,80)","rgb(237,197,63)","rgb(237,194,45)"];return s("div",{style:{backgroundColor:d[0]},children:s("div",{className:"w-24 h-24 bg-neutral-800 flex items-center justify-center text-6xl font-bold",style:{backgroundColor:d[c]||"black",color:c<=2?"rgb(119,110,101)":"white",transform:u,transitionDuration:u===""?void 0:"0.1s"},children:c===0?"":Math.pow(2,c)})})},y=()=>{const[d,v]=p.useState(!1),h=()=>{for(let a of l)for(let n of a)if(n.value===0)return!1;return b(w()),!0},w=()=>{const a=new Array(4).fill(0).map(()=>new Array(4).fill(0).map(()=>({value:0,transition:""})));return f(a),f(a),a},g=a=>{if(d)return;const n=[...l],i=[];switch(a.code){case"KeyA":for(let e=0;e<4;e++){let r=0,o=0;for(let t=0;t<4;t++)l[e][t].value!==0&&(l[e][t].value===o?(r--,o=0):o=l[e][t].value,i.push({row:e,col:t,drow:e,dcol:r}),n[e][t].transition=`translateX(${-1*(t-r)*108}px)`,r++)}break;case"KeyD":for(let e=0;e<4;e++){let r=3,o=0;for(let t=4-1;t>=0;t--)l[e][t].value!==0&&(l[e][t].value===o?(r++,o=0):o=l[e][t].value,i.push({row:e,col:t,drow:e,dcol:r}),n[e][t].transition=`translateX(${(r-t)*108}px)`,r--)}break;case"KeyW":for(let e=0;e<4;e++){let r=0,o=0;for(let t=0;t<4;t++)l[t][e].value!==0&&(l[t][e].value===o?(r--,o=0):o=l[t][e].value,i.push({row:t,col:e,drow:r,dcol:e}),n[t][e].transition=`translateY(${-1*(t-r)*108}px)`,r++)}break;case"KeyS":for(let e=0;e<4;e++){let r=3,o=0;for(let t=4-1;t>=0;t--)l[t][e].value!==0&&(l[t][e].value===o?(r++,o=0):o=l[t][e].value,i.push({row:t,col:e,drow:r,dcol:e}),n[t][e].transition=`translateY(${(r-t)*108}px)`,r--)}break;default:return}v(!0),b(n),setTimeout(()=>{const e=[...l];for(const r of i){if(r.row===r.drow&&r.col===r.dcol){e[r.row][r.col]={value:e[r.row][r.col].value,transition:""};continue}const o=e[r.row][r.col].value;e[r.drow][r.dcol]={value:o===e[r.drow][r.dcol].value?o+1:o,transition:""},e[r.row][r.col]={value:0,transition:""}}b(e),v(!1),!h()&&f([...l])},100)},f=a=>{do var n=Math.floor(Math.random()*4),i=Math.floor(Math.random()*4);while(a[n][i].value!==0);return a[n][i].value=Math.random()>.9?2:1,a},[l,b]=p.useState(w());return s("div",{className:"w-screen h-screen flex items-center justify-center",onKeyDown:g,tabIndex:"0",children:m("div",{className:"flex flex-col gap-6 outline-none",children:[s("h1",{className:"text-8xl font-bold text-[#776E65] text-left",children:"2048"}),s("div",{className:"flex flex-col gap-3 bg-[#BBADA0] p-3 rounded-lg",children:l.map((a,n)=>s("div",{className:"flex gap-3",children:a.map((i,e)=>s(z,{value:i.value,transition:i.transition},e))},n))})]})})};function k(){return s("div",{className:"bg-[#FAF8EF] w-screen h-screen flex items-center justify-center",children:s(y,{})})}S.createRoot(document.getElementById("root")).render(s(x.StrictMode,{children:s(k,{})}));
