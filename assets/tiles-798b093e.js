import{a as n,r as g,j as S,c as y,R as N}from"./index-552142d5.js";const k=({value:c,transition:b})=>{const w=()=>`${3.5-(Math.pow(2,c).toString().length-1)*.5}rem`,d=["rgb(205,193,180)","rgb(238,228,218)","rgb(237,224,200)","rgb(242,177,121)","rgb(245,149,99)","rgb(246,124,96)","rgb(246,94,59)","rgb(237,207,115)","rgb(237,204,98)","rgb(237,200,80)","rgb(237,197,63)","rgb(237,194,45)"];return n("div",{style:{backgroundColor:d[0]},children:n("div",{className:"w-24 h-24 bg-neutral-800 flex items-center justify-center font-bold",style:{backgroundColor:d[c]||"black",color:c<=2?"rgb(119,110,101)":"white",transform:b,transitionDuration:b===""?void 0:"0.1s",fontSize:w()},children:c===0?"":Math.pow(2,c)})})},M=()=>{const[w,d]=g.useState(!1),[p,m]=g.useState(0),x=()=>{for(let a of l)for(let i of a)if(i.value===0)return!1;return f(v()),!0},v=()=>{const a=new Array(4).fill(0).map(()=>new Array(4).fill(0).map(()=>({value:0,transition:""})));return h(a),h(a),a},z=a=>{if(w)return;const i=[...l],s=[];switch(a.code){case"KeyA":for(let t=0;t<4;t++){let r=0,o=0;for(let e=0;e<4;e++)l[t][e].value!==0&&(l[t][e].value===o?(r--,o=0):o=l[t][e].value,s.push({row:t,col:e,drow:t,dcol:r}),i[t][e].transition=`translateX(${-1*(e-r)*108}px)`,r++)}break;case"KeyD":for(let t=0;t<4;t++){let r=3,o=0;for(let e=4-1;e>=0;e--)l[t][e].value!==0&&(l[t][e].value===o?(r++,o=0):o=l[t][e].value,s.push({row:t,col:e,drow:t,dcol:r}),i[t][e].transition=`translateX(${(r-e)*108}px)`,r--)}break;case"KeyW":for(let t=0;t<4;t++){let r=0,o=0;for(let e=0;e<4;e++)l[e][t].value!==0&&(l[e][t].value===o?(r--,o=0):o=l[e][t].value,s.push({row:e,col:t,drow:r,dcol:t}),i[e][t].transition=`translateY(${-1*(e-r)*108}px)`,r++)}break;case"KeyS":for(let t=0;t<4;t++){let r=3,o=0;for(let e=4-1;e>=0;e--)l[e][t].value!==0&&(l[e][t].value===o?(r++,o=0):o=l[e][t].value,s.push({row:e,col:t,drow:r,dcol:t}),i[e][t].transition=`translateY(${(r-e)*108}px)`,r--)}break;default:return}d(!0),f(i),setTimeout(()=>{const t=[...l];let r=!1,o=0;for(const e of s){if(e.row===e.drow&&e.col===e.dcol){t[e.row][e.col]={value:t[e.row][e.col].value,transition:""};continue}const u=t[e.row][e.col].value;u===t[e.drow][e.dcol].value&&(o+=Math.pow(2,u+1)),t[e.drow][e.dcol]={value:u===t[e.drow][e.dcol].value?u+1:u,transition:""},t[e.row][e.col]={value:0,transition:""},r=!0}m(p+o),f(t),d(!1),!x()&&r&&h([...l])},100)},h=a=>{do var i=Math.floor(Math.random()*4),s=Math.floor(Math.random()*4);while(a[i][s].value!==0);return a[i][s].value=Math.random()>.9?2:1,a},[l,f]=g.useState(v());return n("div",{className:"w-screen h-screen flex items-center justify-center",onKeyDown:z,tabIndex:"0",children:S("div",{className:"flex flex-col gap-6 outline-none",children:[S("div",{className:"flex gap-2 justify-between",children:[n("h1",{className:"text-8xl font-bold text-[#776E65] text-left",children:"2048"}),S("div",{className:"flex flex-col justify-end gap-2",children:[n("p",{className:"text-[#776E65] font-bold text-lg",children:`Score: ${p}`}),n("button",{className:"p-1.5 bg-[#8F7A66] px-4 font-bold text-lg rounded text-white",onClick:()=>{f(v()),m(0)},children:"New Game"})]})]}),n("div",{className:"flex flex-col gap-3 bg-[#BBADA0] p-3 rounded-lg",children:l.map((a,i)=>n("div",{className:"flex gap-3",children:a.map((s,t)=>n(k,{value:s.value,transition:s.transition},t))},i))})]})})};function j(){return n("div",{className:"bg-[#FAF8EF] w-screen h-screen flex items-center justify-center",children:n(M,{})})}y.createRoot(document.getElementById("root")).render(n(N.StrictMode,{children:n(j,{})}));
