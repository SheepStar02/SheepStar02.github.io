import{r as i,j as c,a as l,c as P,R as $}from"./client-552142d5.js";/* empty css              */const N=[{name:"Default",boards:[{board:"[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]]",mines:10},{board:"[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]",mines:40},{board:"[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]",mines:99}]}],A=[{name:"Default",theme:"default",icon:"rgb(225,225,225)",button:"#BDBDBD",button2:"#BDBDBD",buttonBorderColor:"rgb(225,225,225)",buttonBorderStyle:"outset",background:"rgb(180,180,180)",background2:"rgb(180,180,180)",backgroundBorderColor:"rgb(100,100,100)",backgroundBorderStyle:"solid",borderWidth:"4px",requiresBorder:!0},{name:"Google",theme:"google",icon:"#A2D149",button:"#A2D149",button2:"#AAD751",buttonBorderColor:"",buttonBorderStyle:"",background:"#D7B899",background2:"#E5C29F",backgroundBorderColor:"",backgroundBorderStyle:"",borderWidth:"",requiresBorder:!1}],H="/assets/minesweeper-bomb-2ea69bd9.png",V="/assets/minesweeper-flag-37d736a9.png",K=({value:g,started:S,revealed:f,reveal:y,flagged:b,setFlagged:M,gameOver:k,theme:a,borders:B,index:h})=>{const[p,v]=i.useState(!1),u=f||b||k,T=["blue","green","red","navy","darkred","cadetblue","black","gray"];return i.useEffect(()=>{!k&&v&&v(!1)}),c("div",{className:`w-8 h-8 flex items-center justify-center ${u?"":`hoverable ${a.theme}`}`,style:{backgroundColor:f?p?"red":h%2===0?a.background:a.background2:h%2===0?a.button:a.button2,borderColor:f?a.backgroundBorderColor:a.buttonBorderColor,borderStyle:f?a.backgroundBorderStyle:a.buttonBorderStyle,borderWidth:f?(()=>{let m="";for(let j of B)m+=j?"1px ":"0 ";return m})():a.borderWidth},onClick:()=>{u||y()&&v(!0)},onContextMenu:m=>{m.preventDefault(),!(f||k||!S)&&M()},children:[f?l("p",{className:"font-bold text-center text-2xl font-mono",style:{color:T[g-1]},children:g>0?g:g===-1?l("img",{className:"w-full h-full p-1",src:H}):""}):"",b?l("img",{className:"w-full h-full p-1",src:V}):""]})},L=()=>{const g=[{name:"Easy",color:"#4ADE80"},{name:"Medium",color:"#FAAD21"},{name:"Hard",color:"#D95024"},{name:"Extreme",color:"#C26571"}],S=[[-1,-1],[-1,0],[-1,1],[0,-1],[0,1],[1,-1],[1,0],[1,1]],[f,y]=i.useState(!1),[b,M]=i.useState(A[1]),[k,a]=i.useState(0),[B,h]=i.useState(!1),[p,v]=i.useState(!1),[u,T]=i.useState(0),[m,j]=i.useState(0),[w,C]=i.useState(N[u].boards[m].mines),[x,D]=i.useState(JSON.parse(N[u].boards[m].board));i.useEffect(()=>{let e;return p&&!B?e=setInterval(()=>{a(r=>r+.1)},100):clearInterval(e),()=>clearInterval(e)},[p,B]);const W=e=>{for(let r of e)for(let t of r)if(t.value>=0&&!t.revealed)return!1;return!0},E=e=>{v(!1),h(!1),a(0),j(e),D(JSON.parse(N[u].boards[e].board)),C(N[u].boards[e].mines)},F=(e,r,t)=>{do var o=[Math.floor(Math.random()*e.length),Math.floor(Math.random()*e[0].length)];while(e[o[0]][o[1]].value!==0||Math.abs(r-o[0])<=1&&Math.abs(t-o[1])<=1);return e[o[0]][o[1]].value=-1,e},I=(e,r,t,o)=>{for(let s=0;s<e.length;s++)for(let n=0;n<e[0].length;n++)e[s][n]={value:e[s][n],revealed:!1,flagged:!1};for(let s=0;s<r;s++)F(e,t,o);return e=G(e),e},G=e=>{for(let r=0;r<e.length;r++)for(let t=0;t<e[0].length;t++)e[r][t].value>=0&&(e[r][t].value=R(r,t,e));return e},R=(e,r,t)=>{var s;let o=0;for(let n of S)t[e+n[0]]&&((s=t[e+n[0]][r+n[1]])==null?void 0:s.value)===-1&&o++;return o},q=(e,r)=>{const t=[...x];t[e][r].flagged?C(w+1):C(w-1),t[e][r].flagged=!t[e][r].flagged,D(t)},J=(e,r)=>{let t=[...x];if(p||(t=I(t,N[u].boards[m].mines,e,r),v(!0),a(0)),t[e][r].revealed=!0,t[e][r].value===-1){for(let o of t)for(let s of o)s.value===-1&&!s.flagged&&(s.revealed=!0);return h(!0),D(t),console.log("game over"),!0}else t[e][r].value===0?z(e,r,t):t[e][r].revealed=!0;if(W(t)){for(let o of t)for(let s of o)s.value===-1&&!s.flagged&&(s.flagged=!0);C(0),h(!0)}D(t)},z=(e,r,t)=>{var o,s,n;for(let d of S)t[e][r].revealed=!0,t[e+d[0]]&&((o=t[e+d[0]][r+d[1]])==null?void 0:o.value)===0&&!((s=t[e+d[0]][r+d[1]])!=null&&s.revealed)?t=z(e+d[0],r+d[1],t):t[e+d[0]]&&t[e+d[0]][r+d[1]]&&!((n=t[e+d[0]][r+d[1]])!=null&&n.revealed)&&(t[e+d[0]][r+d[1]].revealed=!0);return t},O=(e,r)=>{var s;const t=[[-1,0],[0,1],[1,0],[0,-1]],o=Array(4).fill(!1);if(!b.requiresBorder||x[e][r]<=0)return o;for(let n=0;n<t.length;n++)x[e+t[n][0]]&&((s=x[e+t[n][0]][r+t[n][1]])!=null&&s.revealed)&&(o[n]=!0);return o};return c("div",{className:"flex flex-col select-none p-6",children:[l("h1",{className:"text-4xl font-serif font-bold p-4 text-slate-200",children:"Minesweeper"}),l("p",{className:"p-4 pt-0 font-bold font-sans text-zinc-400",children:"Don't click the mines I think"}),c("div",{className:"flex gap-6",children:[l("div",{className:"bg-zinc-800 rounded-lg p-12",children:l("div",{className:"flex flex-col rounded overflow-hidden border-8 border-solid border-black",children:x.map((e,r)=>l("div",{className:"flex",children:e.map((t,o)=>t.value===-2?l("div",{className:"w-8 h-8 bg-black"},o):l(K,{value:t.value,revealed:t.revealed,flagged:t.flagged,gameOver:B,started:p,theme:b,index:o+r,borders:O(r,o),reveal:()=>J(r,o),setFlagged:()=>{q(r,o)}},o))},r))})}),c("div",{className:"w-96",children:[l("h1",{className:"text-center text-2xl font-mono font-bold",children:"Game"}),c("div",{className:"flex p-4 justify-evenly",children:[l("button",{className:"p-2 rounded text-red-400 font-bold font-mono hover:bg-neutral-700 duration-200",onClick:()=>{E(m)},children:"Reset"}),l("div",{className:"flex items-center",children:c("p",{className:"font-mono font-bold text-purple-400",children:["Mines: ",w]})}),l("div",{className:"flex items-center w-24",children:c("p",{className:"font-mono font-bold text-blue-400 overflow-visible whitespace-nowrap",children:["Time: ",k.toFixed(1)]})})]}),l("h1",{className:"text-center text-2xl font-mono font-bold",children:"Settings"}),l("p",{className:"p-2 font-bold font-mono text-slate-400",children:"Difficulty"}),l("div",{className:"flex bg-stone-800 rounded overflow-hidden",children:N[u].boards.map((e,r)=>l("button",{className:"p-2 w-24 hover:bg-stone-700 duration-200 font-mono font-bold grow",style:{color:g[r].color},onClick:()=>{E(r)},children:g[r].name},r))}),l("p",{className:"p-2 mt-4 font-bold font-mono text-slate-400",children:"Theme"}),c("div",{className:"p-4 flex pl-0 pt-0 relative",onClick:()=>{y(!0)},children:[c("div",{className:"flex items-center gap-8 px-2 justify-between p-2 rounded-lg hover:bg-stone-700 w-fit cursor-pointer duration-200 relative",children:[l("p",{className:"font-mono font-bold",style:{color:b.icon},children:b.name}),l("div",{className:"w-12 h-12 rounded border-4 border-solid border-white",style:{backgroundColor:b.icon}})]}),f?c("div",{className:"rounded-lg border-4 border-solid border-black bg-zinc-800 absolute flex flex-col p-2",children:[c("h1",{className:"w-full text-center p-4 font-serif text-lg font-bold text-zinc-300",children:["Select ",f?"true":"false"]}),c("div",{className:"w-8 h-8 hover:bg-zinc-700 duration-200 absolute right-0 mr-2 rounded-lg cursor-pointer flex justify-center items-center",onClick:e=>{e.stopPropagation(),y(!1)},children:[l("div",{className:"w-1 h-4 rounded-full bg-red-200 absolute",style:{transform:"rotate(-45deg)"}}),l("div",{className:"w-1 h-4 rounded-full bg-red-200 absolute rotate-45"})]}),l("div",{className:"flex flex-wrap gap-4 max-w-[24rem]",children:A.map((e,r)=>c("div",{className:"flex items-center p-2 gap-4 rounded-md hover:bg-zinc-700 cursor-pointer duration-200",onClick:t=>{t.stopPropagation(),M(A[r]),y(!1)},children:[l("p",{className:"font-mono font-bold",style:{color:e.icon},children:e.name}),l("div",{className:"w-12 h-12 rounded border-4 border-solid border-white",style:{backgroundColor:e.icon}})]},r))})]}):""]})]})]})]})};function Q(){return l("div",{className:"bg-stone-900 w-screen h-screen flex items-center justify-center overflow-auto",children:l(L,{})})}P.createRoot(document.getElementById("root")).render(l($.StrictMode,{children:l(Q,{})}));
